{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Galarzaa's Memos","text":"<p>A collection of personal notes, memos and documentation that I use in my personal projects or when setting up my machines.</p>"},{"location":"windows/","title":"Windows","text":""},{"location":"windows/#registry-edits","title":"Registry Edits","text":""},{"location":"windows/#enabledisable-bing-search-on-start-menu","title":"Enable/disable Bing search on Start Menu","text":"DisableEnable <pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_CURRENT_USER\\Software\\Policies\\Microsoft\\Windows\\Explorer]\n\"DisableSearchBoxSuggestions\"=dword:00000000\n</code></pre> <pre><code>Windows Registry Editor Version 5.00\n\n[HKEY_CURRENT_USER\\Software\\Policies\\Microsoft\\Windows\\Explorer]\n\"DisableSearchBoxSuggestions\"=dword:00000001\n</code></pre>"},{"location":"windows/#powershell-shortcut-to-activate-venv","title":"Powershell shortcut to activate venv","text":"<p>Create an alias called <code>activenv</code> that runs the activate script relative to the current location:</p> <pre><code>New-Alias -Name activenv -Value venv/scripts/activate.ps1\n</code></pre> <p>Export the alias to a script.</p> <pre><code>Export-Alias -Name ve -Path \"activenv.ps1\" -As Script\n</code></pre> <p>Add script to startup:</p> <pre><code>Add-Content -Path $Profile -Value (Get-Content activenv.ps1)\n</code></pre>"},{"location":"devops/misc/","title":"DevOps","text":""},{"location":"devops/misc/#git-configuration-per-directory","title":"git configuration per directory","text":"<p>If you are handling multiple git repositories in the same machine, but you require separate credentials (e.g personal, work), you can define settings that are applied only to repositories in a subdirectory.</p> <p>In <code>.gitconfig</code>, add the <code>[includeIf]</code> block as shown below:</p> <pre><code>[user]\n    name = Galarzaa\n    email = allan@personal.com\n\n[includeIf \"gitdir:~/Galarza/git/work/\"]\n  path = .gitconfig-work\n</code></pre> <p>Create a new file, with the same name as in the path specified above:</p> <pre><code>[user]\n    email = allan@company.com\n</code></pre> <p>Now, whenever you create a commit in a repository inside the specified folder, your work email will be used (unless it has been overriden for the specific repository).</p>"},{"location":"devops/shell/","title":"Shell","text":""},{"location":"devops/shell/#style-terminal","title":"Style Terminal","text":"<p>Colors the command line to make the start of one command easier to find.</p> <p>Add this to <code>.bashrc</code>:</p> <pre><code>export PS1=\"[\\[$(tput sgr0)\\]\\[\\033[38;5;9m\\]\\T\\[$(tput sgr0)\\]\\[\\033[38;5;15m\\]] \\[$(tput sgr0)\\]\\[\\033[38;5;10m\\]\\u@\\[$(tput sgr0)\\]\\[\\033[38;5;34m\\]\\h\\[$(tput sgr0)\\]\\[\\033[38;5;15m\\]:\\[$(tput sgr0)\\]\\[\\033[38;5;39m\\]\\w\\[$(tput sgr0)\\]\\[\\033[38;5;15m\\] \\[$(tput sgr0)\\]\\[\\033[38;5;13m\\]\\\\$\\[$(tput sgr0)\\]\"\n</code></pre> <p>Make sure that this line is uncommented:</p> <pre><code>force_color_prompt=yes\n</code></pre>"},{"location":"devops/shell/#show-current-git-branch","title":"Show current git branch","text":"<p>Add this to <code>.bashrc</code>:</p> <pre><code>git_branch() {\ngit branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \\(.*\\)/(\\1)/'\n}\nexport PS1=$PS1\"\\$(git_branch)\"\n</code></pre>"},{"location":"devops/shell/#useful-aliases","title":"Useful aliases","text":"<p>Activate the venv in the current directory.</p> <pre><code>alias activenv=\"source venv/bin/activate\"\n</code></pre>"},{"location":"devops/shell/#favorite-tools","title":"Favorite Tools","text":"Tool Description Installation bat A <code>cat</code> clone with syntax highlighting and Git integration. <code>apt install</code>"},{"location":"projects/monitoring/","title":"Home PC Monitoring","text":"<p>This is a simple project that that uploads metriics from my PC and Rasberry PI to my Grafana account.</p>"},{"location":"projects/monitoring/#rasberry-pi-host","title":"Rasberry Pi Host","text":"<p>This will be the device that will collect the metrics of other devices in the network to upload them to Grafana.com.</p> <p>I use the following <code>docker-compose.yml</code> file:</p> <pre><code>version: \"3.8\"\nservices:\ngrafana-agent:\nimage: grafana/agent:v0.32.0\nvolumes:\n- /tmp/agent:/etc/agent\n- ./agent.yaml:/etc/agent-config/agent.yaml\n- /var/log/:/var/log/\ncommand: -config.file=/etc/agent-config/agent.yaml -config.expand-env\nenv_file:\n- ./auth.env\nrestart: always\nrpi-exporter:\nimage: carlosedp/arm_exporter\nrestart: always\n</code></pre> <p>Note</p> <p>At the moment of writing this, <code>0.32.0</code> was the latest Docker image version that was compatible with <code>armv7</code>.</p> <p>On that same directory, we need a <code>auth.env</code> file with the following:</p> <pre><code>PROMETHEUS_USER=12345678\nAPI_KEY=dGhpcyBpcyBub3QgYW4gYWN0dWFsIEFQSSBrZXk=\n</code></pre> <p>These values are all obtained from your account in Grafana.com.</p> <p>Additionally, we have the configuration file for the agent:</p> <pre><code>integrations:\nnode_exporter:\nenabled: false\nprometheus_remote_write:\n- basic_auth:\npassword: ${API_KEY}\nusername: ${PROMETHEUS_USER}\nurl: https://prometheus-us-central1.grafana.net/api/prom/push\nmetrics:\nconfigs:\n- name: integrations\nremote_write:\n- basic_auth:\npassword: ${API_KEY}\nusername: ${PROMETHEUS_USER}\nurl: https://prometheus-us-central1.grafana.net/api/prom/push\nscrape_configs:\n- job_name: rpi-exporter\nstatic_configs:\n- targets:\n- rpi-exporter:9243\n- job_name: &lt;job-name-for-pc-job&gt;\nstatic_configs:\n- targets:\n- 192.168.1.1:4445 # OhmGraphite\n- 192.168.1.1:9182 # windows_exporter\n</code></pre>"},{"location":"projects/monitoring/#windows-devices","title":"Windows Devices","text":"<p>On Windows devices, I use two tools:</p>"},{"location":"projects/monitoring/#ohmgraphite","title":"OhmGraphite","text":"<p>This collects hardware sensor data, such as CPU and GPU temperatures. I use it in Prometheus mode</p>"},{"location":"projects/monitoring/#windows_exporter","title":"windows_exporter","text":"<p>Collects general information from Windows machine, similar to node_exporter.</p>"},{"location":"projects/monitoring/#raspberry-pi-devices","title":"Raspberry Pi Devices","text":"<p>Configuration for additional Raspberry PI devices coming soon.</p>"},{"location":"projects/monitoring/#grafana-dashboards","title":"Grafana Dashboards","text":""}]}